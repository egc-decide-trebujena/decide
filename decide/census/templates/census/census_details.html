{% extends "base.html" %}
{% load i18n static %}

{% block extrahead %}
    <link type="text/css" rel="stylesheet"
    href="https://unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet"
    href="https://unpkg.com/bootstrap-vue@2.23.1/dist/bootstrap-vue.css" />
    <link type="text/css" rel="stylesheet" href="{% static 'booth/style.css' %}" />
{% endblock %}

{% block content %}
<div id="app-census-details">
    <!-- Navbar -->
    <b-navbar toggleable="lg" type="dark" variant="dark">
        <b-navbar-brand href="#">Decide</b-navbar-brand>
        <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>
    </b-navbar>
</div>

    <div class="container-fluid">
    <div class="row justify-content-center mt-5">
    <div class="col-md-8">
        <h4 class="mb-4 mt-1 text-align-center text-center">{% trans 'Detalles de censos' %}</h4> 
        <form action="/census/census_details/" method="post">
                {% csrf_token %}
            <div class="mb-3 row">
                <table class="table table-bordered table-striped mt-2">
                    <thead  class="text-center">
                        <tr>
                            
                            <th>{% trans 'Censo Id' %}</th>
                            <th>{% trans 'Votaci√≥n Id' %}</th>
                            <th>{% trans 'Votante (Id)' %}</th>
                            <th>{% trans 'Grupo' %}</th>
                            <th>{% trans 'Eliminar censo' %}</th>
                        </tr>
                    </thead>
                    <tbody class="text-center">
                        {% for censo in censos %}
                        <tr>
                            <td>{{censo.id}}</td>
                            <td>{{censo.voting_id}}</td>
                            <td>{{censo.voter}} ({{censo.voter.id}})</td>
                            <td>{{censo.group}}</td>
                            <td><button type="submit" name="delete" class="btn btn-outline-danger btn-block" value="{{censo.id}}">{% trans 'Eliminar' %}</button></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>                                                      
        </form>
        
        <div class="mb-3 row">
            <div class="d-grid gap-2 col-5 mx-auto">
                <a class="btn btn-outline-primary" href="/census/reuse" role="button">{% trans 'Reutilizar Censos' %}</a>
            </div>
            <div class="d-grid gap-2 col-5 mx-auto">
                <a class="btn btn-outline-primary" href="/census/census_grouping" role="button">{% trans 'Agrupar Censos' %}</a>
            </div>
        </div>

    </div>
    </div>
    </div>

</div>
</div>

{% endblock %}

{% block extrabody %}
    <!-- Vuejs -->
    <script src="https://unpkg.com/vue@2.6/dist/vue.min.js"></script>
    <script src="https://unpkg.com/bootstrap-vue@2.23.1/dist/bootstrap-vue.min.js"></script>
    <script src="https://unpkg.com/babel-polyfill@latest/dist/polyfill.min.js"></script>
    <script src="https://unpkg.com/bootstrap-vue@2.23.1/dist/bootstrap-vue-icons.min.js"></script>
    
    <script>
        new Vue({ el: '#app-census-details' }); 
    </script>
{% endblock %}